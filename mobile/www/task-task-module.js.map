{"version":3,"sources":["webpack:///./src/app/photo/photo.component.html","webpack:///./src/app/photo/photo.component.scss","webpack:///./src/app/photo/photo.component.ts","webpack:///./src/app/task/form.comment.html","webpack:///./src/app/task/form.comment.ts","webpack:///./src/app/task/task.component.html","webpack:///./src/app/task/task.component.scss","webpack:///./src/app/task/task.component.ts","webpack:///./src/app/task/task.list.component.html","webpack:///./src/app/task/task.list.component.ts","webpack:///./src/app/task/task.module.ts","webpack:///./src/app/task/task.new.component.html","webpack:///./src/app/task/task.new.component.ts","webpack:///./src/app/task/task.show.component.html","webpack:///./src/app/task/task.show.component.ts"],"names":[],"mappings":"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","file":"task-task-module.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Сделать фото\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <ion-row>\\n\\n        <ion-col>\\n            <ion-button (click)=\\\"photoEventHandler(e)\\\"  color=\\\"danger\\\" expand=\\\"full\\\">Сделать фото</ion-button>    \\n        </ion-col>\\n        \\n      </ion-row>\\n\\n  <ion-row>\\n    <video #videoElement id=\\\"video\\\" autoplay=\\\"autoplay\\\"></video>\\n  </ion-row>\\n  <ion-row>\\n    <canvas #canvas width=\\\"800\\\" height=\\\"600\\\"> </canvas>\\n  </ion-row>\\n\\n</ion-content>\\n\"","module.exports = \"video {\\n  border: 1px solid silver; }\\n\\ncanvas {\\n  display: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3pkaW1vbi9zdG9yYWdlMS93d3cvc3VwcG9ydC9tb2JpbGUvc3JjL2FwcC9waG90by9waG90by5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHdCQUF3QixFQUFBOztBQUc1QjtFQUVJLGFBQWEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3Bob3RvL3Bob3RvLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidmlkZW8ge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHNpbHZlcjtcbn1cblxuY2FudmFzIHtcblxuICAgIGRpc3BsYXk6IG5vbmU7XG5cbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { CommonHttpClient } from './../http.service';\nimport { API_URL } from './../globals';\nimport {Router, ActivatedRoute, NavigationEnd} from '@angular/router';\n\n@Component({\n  selector: 'app-photo',\n  templateUrl: './photo.component.html',\n  styleUrls: ['./photo.component.scss'],\n})\nexport class PhotoComponent implements OnInit {\n  navigator: any;\n  @ViewChild('videoElement') videoElement: any;  \n  @ViewChild('canvas') canvas: any;  \n  public video: any;\n  public innerWidth: any;\n  public innerHeight: any;\n  public cameraId: string;\n  public stream: any;\n  public browser = <any>navigator;\n\n  constructor( public route: ActivatedRoute,\n               private http: CommonHttpClient,\n               public router: Router) {\n\n\n\n                }\n\n  getActiveCam = () => {\n    return new Promise( (resolve, reject) =>  {\n      \n      this.browser.mediaDevices.enumerateDevices()\n      .then((devices)=> {\n        console.log(devices);\n        var arrayLength = devices.length;\n        for (var i = 0; i < arrayLength; i++) {\n          if(devices[i].label.indexOf('Camera') !== -1 || devices[i].label.indexOf('back') !== -1){\n            this.cameraId = devices[i].deviceId;\n            console.log(devices[i]);\n          }\n        }\n        resolve();\n      })\n    })\n  };\n\n  ngOnInit() {\n    this.innerWidth = window.innerWidth;\n    this.innerHeight = window.innerHeight;\n    this.video = this.videoElement.nativeElement;\n    this.canvas = this.canvas.nativeElement;\n    var streamTrack = <any>MediaStreamTrack;\n\n      var constraints = {};\n      /*\n      streamTrack.getSources (function(sources) {\n          sources.forEach(function(info) {\n              console.log(info);\n              if (info.facing == \"environment\") {\n                  constraints = {\n                    video: {\n                      optional: [{sourceId: info.id}]\n                    }\n                  };\n              }\n          })\n      })\n       */\n\n      this.browser.getUserMedia = (this.browser.getUserMedia ||\n      this.browser.webkitGetUserMedia ||\n      this.browser.mozGetUserMedia ||\n      this.browser.msGetUserMedia);\n\n      \n        this.browser.mediaDevices.getUserMedia({ audio: false, video: {  facingMode: 'environment' , width: 800,  height: 600 }}).then(stream => {\n          this.stream = stream;\n          this.video.srcObject = this.stream;\n          },(e) => {alert(e)});\n       \n\n      /*\n      browser.mediaDevices.enumerateDevices()\n      .then((devices)=> {\n        console.log(devices.length);\n        console.log(devices);\n        console.log(this.video);\n        devices.forEach(function(device) {\n          if(device.label.indexOf('Camera') !== -1){\n            console.log(device);\n            console.log(this.video);\n            browser.mediaDevices.getUserMedia({ facingMode: { exact: device.deviceId }, audio: false, video: { width: 800,  height: 600 }}).then(stream => {\n              this.video.srcObject = stream;\n              },(e) => {alert(e)});\n          }\n          \n        })\n        \n      });\n      */\n\n\n  }      \n\n  photoEventHandler = (e) => {\n    var context = this.canvas.getContext('2d');\n    context.drawImage(this.video, 0, 0, 800, 600);\n    var dataURL = this.canvas.toDataURL();\n    var data = {imgBase64: dataURL, task_id: this.route.snapshot.paramMap.get('taskId')};\n    this.http.post(API_URL + '/mobile_api/photo',data).subscribe((rez) => {\n       this.router.navigate(['/task/show/'+this.route.snapshot.paramMap.get('taskId')]);\n       //this.video.srcObject = false;\n       //this.stream.stop();\n    });\n    console.log(this.innerHeight);\n    \n  };\n\n}\n","module.exports = \"\\n<form (ngSubmit)=\\\"commentForm()\\\" class=\\\"ion-padding\\\">\\n\\n  <ion-row>\\n    <ion-col>\\n        <ion-button type=\\\"submit\\\" color=\\\"danger\\\" expand=\\\"full\\\">Сохранить</ion-button>    \\n    </ion-col>\\n    <ion-col>\\n      <ion-button [routerLink]=\\\"['/task/photo/'+taskId]\\\" color=\\\"primary\\\" expand=\\\"full\\\">Добавить фото</ion-button>    \\n  </ion-col>\\n  </ion-row>\\n\\n  <ion-row>\\n    <ion-textarea [(ngModel)]=\\\"content\\\" name=\\\"description\\\"></ion-textarea>\\n  </ion-row>\\n\\n  \\n</form>\"","import { CommonHttpClient } from './../http.service';\nimport { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { API_URL } from '../globals';\n\n@Component({\n  selector: 'app-form-comment',\n  templateUrl: './form.comment.html',\n  styleUrls: ['./task.component.scss'],\n})\nexport class FormCommentComponent implements OnInit {\n  content: string;\n  @Input() taskId: number;\n  @Output() commentAdded = new EventEmitter<number>();\n  constructor(private http: CommonHttpClient) { }\n\n  ngOnInit() {}\n\n  commentForm = () => {\n\n    var data = {\n      task_id: this.taskId,\n      content: this.content\n    };\n    this.http.post(API_URL + '/mobile_api/save_comment', data).subscribe((data: any) => {\n       this.content = '';\n       this.commentAdded.emit(this.taskId);\n    });\n  }\n\n}\n","module.exports = \"<ion-content #content>\\n \\n    <app-show-task></app-show-task>\\n\\n</ion-content>\\n\\n\"","module.exports = \"ion-label {\\n  padding-left: 20px;\\n  padding-bottom: 10px; }\\n\\nh2 {\\n  padding-left: 40px; }\\n\\n.img > img {\\n  height: 100%;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover; }\\n\\nion-text {\\n  padding: 10px; }\\n\\nion-row ion-textarea {\\n  border: solid 1px silver;\\n  height: 60px;\\n  border-radius: 5px;\\n  padding-left: 10px; }\\n\\n.border-bottom {\\n  border-bottom: 1px solid silver; }\\n\\n.line-breaker {\\n  white-space: pre-line; }\\n\\nion-select {\\n  border: 1px solid #488aff;\\n  border-radius: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3pkaW1vbi9zdG9yYWdlMS93d3cvc3VwcG9ydC9tb2JpbGUvc3JjL2FwcC90YXNrL3Rhc2suY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBa0I7RUFDbEIsb0JBQW9CLEVBQUE7O0FBR3hCO0VBQ0ksa0JBQWtCLEVBQUE7O0FBR3RCO0VBQ0ksWUFBWTtFQUNaLFdBQVc7RUFDWCxvQkFBaUI7S0FBakIsaUJBQWlCLEVBQUE7O0FBR3JCO0VBQ0ksYUFBYSxFQUFBOztBQUdqQjtFQUVPLHdCQUF3QjtFQUN4QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGtCQUFrQixFQUFBOztBQUt4QjtFQUNJLCtCQUErQixFQUFBOztBQUduQztFQUNHLHFCQUFxQixFQUFBOztBQUd6QjtFQUVJLHlCQUF5QjtFQUN6QixrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3Rhc2svdGFzay5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5oMiB7XG4gICAgcGFkZGluZy1sZWZ0OiA0MHB4O1xufVxuXG4uaW1nID4gaW1nIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbmlvbi10ZXh0IHtcbiAgICBwYWRkaW5nOiAxMHB4O1xufVxuXG5pb24tcm93e1xuICAgIGlvbi10ZXh0YXJlYXtcbiAgICAgICBib3JkZXI6IHNvbGlkIDFweCBzaWx2ZXI7XG4gICAgICAgaGVpZ2h0OiA2MHB4O1xuICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gICAgfVxuIH1cblxuXG4gLmJvcmRlci1ib3R0b20ge1xuICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgc2lsdmVyO1xuIH1cblxuIC5saW5lLWJyZWFrZXIge1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtbGluZTtcbiAgfVxuXG5pb24tc2VsZWN0IHtcbiAgICBcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDg4YWZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-task',\n  templateUrl: './task.component.html',\n  styleUrls: ['./task.component.scss'],\n})\nexport class TaskComponent implements OnInit {\n  task: any = {};\n  constructor() {  }\n\n  ngOnInit() {\n\n\n\n  }\n\n}\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>\\n        Заявки\\n      </ion-title>\\n          <ion-select #sel (ionChange)=\\\"setFilter(sel.value)\\\" interface=\\\"popover\\\" slot=\\\"end\\\" [(ngModel)]=\\\"filter\\\" okText=\\\"Сохранить\\\" cancelText=\\\"Отменить\\\">\\n            <ion-select-option [value]='\\\"new\\\"'>В процессе рассмотрения</ion-select-option>\\n            <ion-select-option [value]='\\\"inprocess\\\"'>В работе</ion-select-option>\\n            <ion-select-option [value]='\\\"done\\\"'>Выполнен</ion-select-option>\\n            <ion-select-option [value]='\\\"all\\\"'>Все заявки</ion-select-option>\\n            <ion-select-option [value]='\\\"deleted\\\"'>Архив</ion-select-option>\\n          </ion-select>\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-icon name=\\\"refresh\\\" slot=\\\"end\\\" (click)=\\\"refresh()\\\" ></ion-icon>\\n          </ion-buttons>\\n          <ion-buttons slot=\\\"end\\\">\\n            \\n          </ion-buttons>\\n          <ion-title slot=\\\"end\\\">\\n            <ion-button [routerLink]=\\\"['/task/new']\\\" color=\\\"primary\\\">\\n              <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>Новая заявка\\n            </ion-button>\\n          </ion-title>\\n\\n\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-content>\\n        <ion-list>\\n          <ion-item\\n                    [routerLink]=\\\"['/task','show',item.id]\\\" \\n                    *ngFor=\\\"let item of items\\\">\\n            <ion-icon slot=\\\"start\\\" color=\\\"medium\\\" name=\\\"{{ item.status_icon }}\\\"></ion-icon>\\n            {{ item.title }}   \\n            <div class=\\\"item-note\\\" slot=\\\"end\\\">\\n                #{{ item.id }}\\n            </div> \\n          </ion-item>\\n      </ion-list>\\n  </ion-content>\\n  \"","import { Component, OnInit } from '@angular/core';\nimport { TaskService } from './task.service';\nimport {Router, ActivatedRoute, NavigationEnd} from '@angular/router';\n\n@Component({\n  selector: 'app-task-list',\n  templateUrl: './task.list.component.html',\n  styleUrls: ['./task.component.scss'],\n})\nexport class TaskListComponent implements OnInit {\n  items: any[] = [];\n  filter: string;\n  constructor( private task_service: TaskService,\n               public route: ActivatedRoute,\n               public router: Router ) { \n\n                router.events.subscribe(event => {\n                  if (event instanceof NavigationEnd) {\n                    this.ngOnInit();\n                  }\n                });\n              \n\n                }\n\n  ngOnInit() {\n\n    this.filter = this.route.snapshot.paramMap.get('filter');\n    this.refresh();\n    console.log('onInit');\n\n  }\n\n  refresh = () => {\n    this.task_service.getTaskList(this.filter).subscribe((data: any) => {\n      this.items = data['tasks'];\n      this.filter = this.route.snapshot.paramMap.get('filter');\n    });\n  }\n\n  setFilter = (status) => {\n     this.router.navigate(['/task/list/'+status]);\n  };\n\n}\n","import { TaskNewComponent } from './task.new.component';\nimport { PhotoComponent } from './../photo/photo.component';\nimport { TaskListComponent } from './task.list.component';\nimport { TaskComponent } from './task.component';\nimport { FormCommentComponent } from './form.comment';\nimport { TaskShowComponent } from './task.show.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule }   from '@angular/forms';\n\n\n\n\n@NgModule({\n  declarations: [\n    TaskComponent,\n    TaskListComponent,\n    FormCommentComponent,\n    PhotoComponent,\n    TaskNewComponent,\n    TaskShowComponent],\n  imports: [\n    CommonModule,\n    IonicModule,\n    FormsModule,\n    RouterModule.forChild([\n      {\n        path: 'show/:taskId',\n        component: TaskComponent\n      },\n      {\n        path: 'list/:filter',\n        component: TaskListComponent\n      },\n      {\n        path: 'new',\n        component: TaskNewComponent\n      },\n      {\n        path: 'photo/:taskId',\n        component: PhotoComponent\n      }\n    ])\n  ]\n})\nexport class TaskModule { }\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>\\n        Новая заявка\\n      </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n  \\n<ion-content>\\n  <form (ngSubmit)=\\\"submitForm()\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-label>Описание</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"description\\\" name=\\\"description\\\"></ion-textarea>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"full\\\">Сохранить</ion-button>    \\n    </ion-col>\\n    </ion-row>\\n\\n    \\n  </form>\\n</ion-content>\\n  \"","import { Component, OnInit } from '@angular/core';\nimport { TaskService } from './task.service';\nimport {Router, ActivatedRoute, NavigationEnd} from '@angular/router';\n\n@Component({\n  selector: 'app-task-new',\n  templateUrl: './task.new.component.html',\n  styleUrls: ['./task.component.scss'],\n})\nexport class TaskNewComponent implements OnInit {\n  description: string;\n  constructor( private task_service: TaskService,\n               public route: ActivatedRoute,\n               public router: Router ) { \n\n    router.events.subscribe(event => {\n        if (event instanceof NavigationEnd) {\n          this.ngOnInit();\n        }\n      });\n  }\n\n  ngOnInit() {\n\n    console.log('onInit new');\n\n  }\n\n  submitForm = () => {\n     const data = { 'content': this.description };\n     this.task_service.saveTask(data).subscribe((rez) => {\n        \n        console.log(rez);\n        this.router.navigate(['/task/show/' + rez['task_id']]);\n     });\n     this.description = '';\n  }\n\n}\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Задача #{{ task.id }}</ion-title>\\n      <ion-title slot=\\\"end\\\">\\n          <ion-button [routerLink]=\\\"['/task/list/all']\\\" color=\\\"primary\\\">Все заявки</ion-button>\\n      </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n      \\n      <ion-card class=\\\"ion-padding\\\">\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col size=\\\"8\\\"> \\n                <ion-text color=\\\"dark\\\" [innerHTML]=\\\"task.content\\\" ion-padding></ion-text> \\n              </ion-col>\\n              <ion-col size=\\\"4\\\"><ion-label color=\\\"dark\\\">\\n                Автор: {{ task.author }}</ion-label>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n          \\n      </ion-card>\\n\\n\\n          \\n\\n\\n      \\n      <ion-row>\\n        \\n        <ion-col>\\n            <ion-select #sel (ionChange)=\\\"setStatus(task.id,sel.value)\\\" value=\\\"{{ task.status }}\\\" okText=\\\"Сохранить\\\" cancelText=\\\"Отменить\\\">\\n              <ion-select-option value=\\\"new\\\">В процессе рассмотрения</ion-select-option>\\n              <ion-select-option value=\\\"inprocess\\\">В работе</ion-select-option>\\n              <ion-select-option value=\\\"done\\\">Выполнен</ion-select-option>\\n            </ion-select>\\n        \\n        </ion-col>\\n      </ion-row>\\n\\n        \\n      \\n\\n\\n      <ion-title slot=\\\"end\\\">\\n        <h4 clas=\\\"ion-padding\\\">Коментарии</h4>\\n      </ion-title>\\n\\n      \\n          <ion-row *ngFor=\\\"let item of task.comments\\\" class=\\\"ion-padding border-bottom\\\">\\n            <ion-col size=\\\"9\\\">\\n                <div class=\\\"item-note line-breaker\\\"  [innerHTML]=\\\"item.content\\\"></div>\\n                <div class=\\\"item-note\\\"  [innerHTML]=\\\"item.link\\\"></div>\\n            </ion-col>\\n            <ion-col size=\\\"3\\\">\\n                {{ item.user }}\\n            </ion-col>\\n\\n              \\n          </ion-row>\\n     \\n\\n  <app-form-comment  [taskId]=\\\"task.id\\\" (commentAdded)=\\\"commentAddedEmmited($event)\\\"></app-form-comment>\\n\"","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport {Router, ActivatedRoute, NavigationEnd} from '@angular/router';\nimport { AppConfigService } from './../app.service';\n\n\n@Component({\n  selector: 'app-show-task',\n  templateUrl: './task.show.component.html',\n  styleUrls: ['./task.component.scss']\n})\nexport class TaskShowComponent implements OnInit {\n  @Input() task: any = {};\n  @ViewChild('content') content: any;\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public AppConfigService: AppConfigService) { \n\n      router.events.subscribe(event => {\n        if (event instanceof NavigationEnd) {\n          this.ngOnInit();\n        }\n      });\n\n    }\n\n  ngOnInit() {\n    this.AppConfigService.getTaskById(parseInt(this.route.snapshot.paramMap.get('taskId'), 10)).subscribe((data) => {\n      this.task = data['task'];\n    });\n  }\n\n  commentAddedEmmited(data) {\n    this.AppConfigService.getTaskById(parseInt(this.route.snapshot.paramMap.get('taskId'), 10)).subscribe(( data ) => {\n      this.task = data['task'];\n      //this.content.scrollToBottom(300);\n    });\n  }\n\n  setStatus = (task_id, status) => {\n    this.AppConfigService.changeStatus(task_id,status).subscribe((rez) => {\n       console.log(rez);\n    });\n  }\n\n\n}\n"],"sourceRoot":""}